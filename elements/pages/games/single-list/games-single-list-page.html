<html><head><link rel="import" href="/elements/common/common-page.html"><link rel="import" href="/elements/games/common/card-app.html"></head><body><dom-module id="games-single-list"><template><custom-style><style is="custom-style" include="iron-flex"></style><style>:host{display:block;@apply --paper-font-common-base;--paper-input-container-label:{color:white;};--paper-input-container-underline:{visibility:hidden;};--paper-input-container-input-color:white;}.separator{color:rgb(51, 51, 51);display:inline-block;height:30.7188px;text-decoration:none solid rgb(51, 51, 51);text-rendering:optimizeLegibility;white-space:nowrap;width:1px;column-rule-color:rgb(51, 51, 51);perspective-origin:0.5px 15.3594px;transform-origin:0.5px 15.3594px;caret-color:rgb(51, 51, 51);background:rgb(214, 214, 214) none repeat scroll 0% 0% / auto padding-box border-box;border:0px none rgb(51, 51, 51);font:normal normal 300 normal 13px / 18.2px Roboto, UILanguageFont, Arial, sans-serif;margin:9px 5px;outline:rgb(51, 51, 51) none 0px;}iron-list{padding-bottom:50px;}.photoContent{@apply --layout;background-color:#ddd;position:relative;width:300px;height:300px;margin:8px;}.photoContent:hover .detail{opacity:1;}.photoContent > iron-image{@apply --layout-flex;}.photoContent > .detail{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.8) 100%);color:white;font-size:20px;font-weight:100;padding:20px;opacity:0;transition:opacity 0.1s;}.searchInput{@apply --layout-flex;font-size:18px;padding:10px 20px;border:none;-webkit-appearance:none;border-radius:0px;}.searchInput:hover{background-color:rgba(255, 255, 255, 0.3);}.searchInput:focus{background-color:white;outline:none;color:black;}.loadingIndicator{padding-top:20px;font-size:16px;text-align:center;height:60px;}.loadingIndicator paper-spinner{margin-right:20px;vertical-align:middle;}@media (max-width: 800px){.photoContainer{width:calc(50% - 16px);}.photoContent{width:auto;}}@media (max-width: 400px){iron-list{margin-top:72px;}.photoContainer{width:100%;}.photoContent > .detail{opacity:1;}}iron-scroll-threshold{height:80vh;}#scrollThreshold::-webkit-scrollbar{width:5px;height:5px;}#scrollThreshold::-webkit-scrollbar-thumb{background:#A9A9AA;}#scrollThreshold::-webkit-scrollbar-track{background:#FAFAFA;}::-webkit-scrollbar{width:5px;height:5px;}::-webkit-scrollbar-thumb{background:#A9A9AA;}::-webkit-scrollbar-track{background:#FAFAFA;}#container{max-width:600px;}paper-toolbar{background-color:var(--paper-blue-500);color:#fff;width:100%;}</style></custom-style><div><iron-ajax id="ajax" loading="{{loadingPhotos}}" url="[[_getAPIEndpoint(apiKey, searchText, page)]]" handle-as="text" on-response="_didReceiveResponse"></iron-ajax><paper-toolbar><paper-dropdown-menu label="Category" slot="top"><paper-listbox slot="dropdown-content" class="dropdown-content" selected="0"><paper-item>All</paper-item><paper-item>Casual</paper-item><paper-item>Music</paper-item><paper-item>Puzzle</paper-item><paper-item>Racing</paper-item><paper-item>Sports</paper-item><paper-item>Trivia</paper-item></paper-listbox></paper-dropdown-menu><div class="separator" slot="top"></div><paper-tabs noink="" slot="top" selected="0"><paper-tab>Beranda</paper-tab><paper-tab>Terpopuler</paper-tab><paper-tab>Rilis Baru</paper-tab></paper-tabs><span slot="top" class="flex"></span><paper-icon-button icon="search" class="search-action" on-click="showSearch" slot="top"></paper-icon-button><paper-menu-button slot="top" horizontal-align="right"><paper-icon-button icon="settings" slot="dropdown-trigger" alt="settings"></paper-icon-button><paper-listbox slot="dropdown-content"><paper-item>Setting</paper-item><paper-item>Device</paper-item></paper-listbox></paper-menu-button><paper-menu-button slot="top" horizontal-align="right"><paper-icon-button slot="dropdown-trigger" icon="help" alt="help"></paper-icon-button><iron-image slot="dropdown-content" src="/images/logo.png"></iron-image></paper-menu-button></paper-toolbar><div class="loadingIndicator" hidden$="[[hasPhoto]]">No Data</div><iron-scroll-threshold id="scrollTheshold" lower-threshold="3" on-lower-threshold="_onLowerThreshold" scroll-target="scrollTheshold"><iron-list items="[[photos]]" as="photo" scroll-target="scrollTheshold" grid=""><template><card-app src="http://farm[[photo.farm]].staticflickr.com/[[photo.server]]/[[photo.id]]_[[photo.secret]]_n.jpg" title="[[photo.title]]" creator="[[photo.owner]]"></card-app></template></iron-list></iron-scroll-threshold><div class="loadingIndicator" hidden$="[[!loadingPhotos]]"><paper-spinner active$="[[loadingPhotos]]"></paper-spinner>Fetching photos for <b>[[searchText]]</b></div></div></template><script>class GamesSingleList extends CommonPage{static get is(){return'games-single-list'}static get properties(){return{apiKey:{type:String,value:'c304f1096a06486d3c1e7ab271bf7f3f'},hasPhoto:{type:Boolean,value:!1},photos:{type:Array,value:function(){return[]},notify:!0},perPage:{type:Number,value:12},page:{type:Number,value:0},searchText:{type:String,value:'',observer:'_resetPhotos'},loadingPhotos:Boolean}}showSearch(){var a=this,b=document.querySelector('#app');b.searchAction('Search on Single Games',function(c){''==c.detail.data||a.set('searchText',c.detail.data)})}_getAPIEndpoint(a,b,c){return'https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key='+a+'&safe_search=1&sort=interestingness-desc&text='+encodeURIComponent(b)+'&page='+c+'&format=json&per_page='+this.perPage}_didReceiveResponse(a){var b=JSON.parse(a.detail.response.match('jsonFlickrApi\\((.*)\\)')[1]);b&&b.photos&&b.photos.photo&&(b.photos.photo.forEach(function(c){this.push('photos',c),this.hasPhoto=!0},this),this.$.scrollTheshold.clearTriggers())}_onLowerThreshold(){this.debounce('_loadPhotos',this._loadMorePhotos,60)}_loadMorePhotos(){this.$.ajax.lastRequest&&this.$.ajax.lastRequest.abort(),this.page++,this.$.ajax.generateRequest()}_resetPhotos(a){this.page=0,this.photos=[],''!==a.trim()&&this.debounce('_loadPhotos',this._loadMorePhotos,400)}}window.customElements.define(GamesSingleList.is,GamesSingleList);</script></dom-module></body></html>